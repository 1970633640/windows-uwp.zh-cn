---
ms.assetid: bfabd3d5-dd56-4917-9572-f3ba0de4f8c0
title: Device Portal 核心 API 参考
description: 了解 Windows Device Portal 核心 REST API，该 API 可用于访问数据和以编程方式控制设备。
---

# Device Portal 核心 API 参考

Windows Device Portal 中的所有内容都是基于 REST API 创建的，该 API 可用于访问数据和以编程方式控制设备。

## 应用部署

---
### 安装应用

**请求**

可以使用以下请求格式安装应用。

方法      | 请求 URI
:------     | :-----
POST | /api/appx/packagemanager/package

**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
package   | （**必需**）要安装的程序包的文件名。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 获取应用安装状态

**请求**

可以通过使用以下请求格式来获取当前正在进行的应用安装状态。
 
方法      | 请求 URI
:------     | :-----
GET | /api/appx/packagemanager/state

**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 卸载应用

**请求**

可以通过使用以下请求格式来卸载应用。
 
方法      | 请求 URI
:------     | :-----
DELETE | /api/appx/packagemanager/package


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 获取已安装应用

**请求**

可以通过使用以下请求格式来获取系统上已安装应用的列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/appx/packagemanager/packages


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

该响应包含已安装程序包列表以及相关详细信息。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## 设备管理器
---
### 获取计算机上已安装的设备

**请求**

可以通过使用以下请求格式来获取计算机上已安装设备的列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/devicemanager/devices


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括一个 JSON 结构，其中包含分层设备树。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* IoT

---
## 转储集合
---
### 获取应用的所有故障转储列表

**请求**

可以通过使用以下请求格式来获取所有旁加载应用的所有可用故障转储列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/usermode/dumps


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括每个旁加载应用程序的故障转储列表。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 获取应用的故障转储集合设置

**请求**

可以通过使用以下请求格式来获取旁加载应用的故障转储集合设置。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/usermode/crashcontrol


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
packageFullname   | （**必需**）旁加载的应用的程序包的完整名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 删除旁加载应用的故障转储

**请求**

可以通过使用以下请求格式来删除旁加载应用的故障转储。
 
方法      | 请求 URI
:------     | :-----
DELETE | /api/debug/dump/usermode/crashdump


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
packageFullname   | （**必需**）旁加载的应用的程序包的完整名称。
fileName   | （**必需**）应该删除的转储文件名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 禁用旁加载应用的故障转储

**请求**

可以通过使用以下请求格式来禁用旁加载应用的故障转储。
 
方法      | 请求 URI
:------     | :-----
DELETE | /api/debug/dump/usermode/crashcontrol


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
packageFullname   | （**必需**）旁加载的应用的程序包的完整名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 下载旁加载应用的故障转储

**请求**

可以通过使用以下请求格式来下载旁加载应用的故障转储。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/usermode/crashdump


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
packageFullname   | （**必需**）旁加载的应用的程序包的完整名称。
fileName   | （**必需**）要下载的转储文件名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括转储文件。 可以使用 WinDbg 或 Visual Studio 来检查转储文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 启用旁加载应用的故障转储

**请求**

可以通过使用以下请求格式来启用旁加载应用的故障转储。
 
方法      | 请求 URI
:------     | :-----
POST | /api/debug/dump/usermode/crashcontrol


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
packageFullname   | （**必需**）旁加载的应用的程序包的完整名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 获取检测错误文件列表

**请求**

可以通过使用以下请求格式来获取检测错误小型转储文件列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/kernel/dumplist


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括转储文件名称列表和这些文件的大小。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 下载检测错误转储文件

**请求**

可以通过使用以下请求格式来下载检测错误转储文件。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/kernel/dump


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
filename   | （**必需**）转储文件的文件名。 通过使用该 API 获取转储列表，可以找到此文件名。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括转储文件。 可以使用 WinDbg 检查此文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 获取检测错误故障控制设置

**请求**

可以通过使用以下请求格式来获取检测错误故障控制设置。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/kernel/crashcontrol


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括故障控制设置。 有关 CrashControl 的详细信息，请参阅 [CrashControl](https://technet.microsoft.com/library/cc951703.aspx) 文章。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 获取实时内核转储

**请求**

可以通过使用以下请求格式来获取实时内核转储。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/livekernel


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括完整内核模式转储。 可以使用 WinDbg 检查此文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 从实时用户进程中获取转储

**请求**

可以通过使用以下请求格式来获取实时用户进程的转储。
 
方法      | 请求 URI
:------     | :-----
GET | /api/debug/dump/usermode/live


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
pid   | （**必需**）关注的进程的唯一进程 ID。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括进程转储。 可以使用 WinDbg 或 Visual Studio 检查此文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 设置检测错误故障控制设置

**请求**

可以通过使用以下请求格式来设置收集检测错误数据的设置。
 
方法      | 请求 URI
:------     | :-----
POST | /api/debug/dump/kernel/crashcontrol


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
autoreboot   | （**可选**）True 或 False。 这指示系统在出现故障或锁定后是否自动重新启动。
dumptype   | （**可选**）转储类型。 有关支持的值，请参阅 [CrashDumpType 枚举](https://msdn.microsoft.com/library/azure/microsoft.azure.management.insights.models.crashdumptype.aspx)。
maxdumpcount   | （**可选**）要保存的最大转储数。
overwrite   | （**可选**）True 或 False。 这指示在达到 *maxdumpcount* 指定的转储计数器限制时是否覆盖旧转储。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
## ETW
---
### 通过 WebSocket 创建实时 ETW 会话

**请求**

可以通过使用以下请求格式来创建实时 ETW 会话。 这将通过 WebSocket 进行管理。
 
方法      | 请求 URI
:------     | :-----
GET/WebSocket | /api/etw/session/realtime


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括已启用提供程序中的 ETW 事件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 枚举已注册的 ETW 提供程序

**请求**

可以通过使用以下请求格式来枚举已注册的提供程序。
 
方法      | 请求 URI
:------     | :-----
GET | /api/etw/providers


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括 ETW 提供程序列表。 该列表将包含每个提供程序的友好名称和 GUID。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
## 网络
---
### 获取当前的 IP 配置

**请求**

可以通过使用以下请求格式来获取当前的 IP 配置。
 
方法      | 请求 URI
:------     | :-----
GET | /api/networking/ipconfig


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括 IP 配置

**状态代码**

下表显示了可能的附加状态代码，它们可作为此操作的结果返回。

HTTP 状态代码      | 说明
:------     | :-----
200 | 操作成功完成
500 | 存在内部服务器错误

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## 操作系统信息
---
### 获取计算机名称

**请求**

可以通过使用以下请求格式来获取计算机的名称。
 
方法      | 请求 URI
:------     | :-----
GET | /api/os/machinename


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 获取操作系统信息

**请求**

可以通过使用以下请求格式来获取计算机的操作系统信息。
 
方法      | 请求 URI
:------     | :-----
GET | /api/os/info


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 设置计算机名称

**请求**

可以通过使用以下请求格式来设置计算机的名称。
 
方法      | 请求 URI
:------     | :-----
POST | /api/os/machinename


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
name | （**必需**）计算机的新名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## 性能数据
---
### 获取正在运行的进程列表

**请求**

可以通过使用以下请求格式来获取当前正在运行的进程列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/resourcemanager/processes


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括进程列表以及每个进程的详细信息。 信息采用 JSON 格式。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 获取系统性能统计信息

**请求**

可以通过使用以下请求格式来获取系统性能统计信息。 这包括诸如读写周期和已使用的内存等信息。
 
方法      | 请求 URI
:------     | :-----
GET | /api/resourcemanager/systemperf


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 该响应包括 CPU 和 GPU 使用率、内存访问以及网络访问之类的系统性能统计信息。 此信息采用 JSON 格式。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## 电源
---
### 获取当前的电池状态

**请求**

可以通过使用以下请求格式来获取电池的当前状态。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/battery


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 获取活动的电源方案

**请求**

可以通过使用以下请求格式来获取活动的电源方案。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/activecfg


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 获取电源方案的子值

**请求**

可以通过使用以下请求格式来获取电源方案的子值。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/cfg/*<power scheme path>*


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 获取系统的电源状态

**请求**

可以通过使用以下请求格式来检查系统的电源状态。 这可让你查看它是否处于低功耗状态。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/state


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 获取睡眠分析报告

**请求**

可以通过使用以下请求格式来获取睡眠分析报告。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/sleepstudy/reports


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
FileName | （**必需**）要下载的睡眠分析报告的文件名。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 设置活动的电源方案

**请求**

可以通过使用以下请求格式来设置活动的电源方案。
 
方法      | 请求 URI
:------     | :-----
POST | /api/power/activecfg


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
scheme | （**必需**）要设置为系统的活动电源方案的方案 GUID。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 设置电源方案的子值

**请求**

可以通过使用以下请求格式来设置电源方案的子值。
 
方法      | 请求 URI
:------     | :-----
POST | /api/power/cfg/*<power scheme path>*


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
valueAC | （**必需**）用于交流电源的值。
valueDC | （**必需**）用于电池电源的值。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 枚举可用的睡眠分析报告

**请求**

可以通过使用以下请求格式来枚举可用的睡眠分析报告。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/sleepstudy/reports


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
### 获取睡眠分析转换

**请求**

可以通过使用以下请求格式来获取睡眠分析转换。 此转换为 XSLT，可将睡眠分析报告转换为用户可以读取的 XML 格式。
 
方法      | 请求 URI
:------     | :-----
GET | /api/power/sleepstudy/reports


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* IoT

---
## 远程控制
---
### 重新启动目标计算机

**请求**

可以通过使用以下请求格式来重新启动目标计算机。
 
方法      | 请求 URI
:------     | :-----
POST | /api/control/restart


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 关闭目标计算机

**请求**

可以通过使用以下请求格式来关闭目标计算机。
 
方法      | 请求 URI
:------     | :-----
POST | /api/control/shutdown


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## 任务管理器
---
### 启动现代应用

**请求**

可以通过使用以下请求格式来启动现代应用。
 
方法      | 请求 URI
:------     | :-----
POST | /api/taskmanager/app


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
appid   | （**必需**）要启动的应用的 PRAID。 此值应采用 hex64 编码。
package   | （**必需**）要启动的应用包的完整名称。 此值应采用 hex64 编码。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 停止现代应用

**请求**

可以通过使用以下请求格式来停止现代应用。
 
方法      | 请求 URI
:------     | :-----
DELETE | /api/taskmanager/app


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
package   | （**必需**）要停止的应用包的完整名称。 此值应采用 hex64 编码。
forcestop   | （**可选**）值为 **yes** 指示系统应强制停止所有进程。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## WLAN
---
### 枚举无线网络接口

**请求**

可以通过使用以下请求格式来枚举可用的无线网络接口。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wifi/interfaces


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 可用无线接口列表以及详细信息。 详细信息将包含诸如 GUID、说明、友好名称等项。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 枚举无线网络

**请求**

可以通过使用以下请求格式来枚举指定接口上的无线网络列表。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wifi/networks


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
interface   | （**必需**）用于搜索无线网络的网络接口的 GUID。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 在提供的 *interface* 上找到的无线网络列表。 这包括网络的详细信息。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 建立和断开与 WLAN 网络的连接。

**请求**

可以通过使用以下请求格式来建立或断开与 WLAN 网络的连接。
 
方法      | 请求 URI
:------     | :-----
POST | /api/wifi/network


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
interface   | （**必需**）用于连接到网络的网络接口的 GUID。
op   | （**必需**）指示要执行的操作。 可能的值为 connect 或 disconnect。
ssid   | （**必需，如果 *op* == connect**）要连接到的 SSID。
key   | （**必需，如果 *op* == connect**）共享的密钥。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
### 删除 WLAN 配置文件

**请求**

可以通过使用以下请求格式来删除与特定接口上的网络关联的配置文件。
 
方法      | 请求 URI
:------     | :-----
DELETE | /api/wifi/network


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
interface   | （**必需**）与要删除的配置文件关联的网络接口的 GUID。
profile   | （**必需**）要删除的配置文件名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* Xbox
* HoloLens
* IoT

---
## Windows 错误报告 (WER)
---
### 下载 Windows 错误报告 (WER) 文件

**请求**

可以通过使用以下请求格式来下载 WER 文件。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wer/reports/file


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
user   | （**必需**）与报告关联的用户名。
type   | （**必需**）报告的类型。 这可以是 **queried**，也可以是 **archived**。
name   | （**必需**）报告的名称。
file   | （**必需**）要从报告下载的文件名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 枚举 Windows 错误报告 (WER) 报告中的文件

**请求**

可以通过使用以下请求格式来枚举 WER 报告中的文件。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wer/reports/files


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
user   | （**必需**）与报告关联的用户。
type   | （**必需**）报告的类型。 这可以是 **queried**，也可以是 **archived**。
name   | （**必需**）报告的名称。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
### 列出 Windows 错误报告 (WER) 报告

**请求**

可以通过使用以下请求格式来获取 WER 报告。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wer/reports


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 无

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 桌面版
* HoloLens
* IoT

---
## Windows Performance Recorder (WPR) 
---
### 使用自定义配置文件开始跟踪

**请求**

可以通过使用以下请求格式来上载 WPR 配置文件，并使用该配置文件开始跟踪。
 
方法      | 请求 URI
:------     | :-----
POST | /api/wpr/customtrace


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 包含自定义的 WPR 配置文件的多部分一致 http 正文。

**响应**

- 返回 WPR 会话状态。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 开始启动性能跟踪会话

**请求**

可以通过使用以下请求格式来开始启动 WPR 跟踪会话。 这也称为性能跟踪会话。
 
方法      | 请求 URI
:------     | :-----
POST | /api/wpr/boottrace


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
profile   | （**必需**）开始时必须使用此参数。 开始性能跟踪会话应使用的配置文件的名称。 可能的配置文件存储在 perfprofiles/profiles.json 中。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 开始时，此 API 会返回 WPR 会话状态。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 停止启动性能跟踪会话

**请求**

可以通过使用以下请求格式来停止启动 WPR 跟踪会话。 这也称为性能跟踪会话。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wpr/boottrace


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 返回跟踪 ETL 文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 开始性能跟踪会话

**请求**

可以通过使用以下请求格式来开始 WPR 跟踪会话。 这也称为性能跟踪会话。
 
方法      | 请求 URI
:------     | :-----
POST | /api/wpr/trace


**URI 参数**

可以在请求 URI 上指定以下附加参数：

URI 参数 | 说明
:---          | :---
profile   | （**必需**）开始性能跟踪会话应使用的配置文件的名称。 可能的配置文件存储在 perfprofiles/profiles.json 中。

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 开始时，此 API 会返回 WPR 会话状态。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 停止性能跟踪会话

**请求**

可以通过使用以下请求格式来停止 WPR 跟踪会话。 这也称为性能跟踪会话。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wpr/trace


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- 返回跟踪 ETL 文件。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT

---
### 检索跟踪会话的状态

**请求**

可以通过使用以下请求格式来检索当前 WPR 会话的状态。
 
方法      | 请求 URI
:------     | :-----
GET | /api/wpr/status


**URI 参数**

- 无

**请求标头**

- 无

**请求正文**

- 无

**响应**

- WPR 跟踪会话的状态。

**状态代码**

- 标准状态代码。

**可用设备系列**

* Windows 移动版
* Windows 桌面版
* HoloLens
* IoT


<!--HONumber=Mar16_HO5-->


